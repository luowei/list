<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <title>知不知</title> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="theme-color" content="#157878"> <meta name="baidu-site-verification" content="" /> <meta name="apple-itunes-app" content="app-id=1227288468, app-argument=https://luowei.github.io/list/ios/2021/12/22/16398570125664.html"> <link rel="stylesheet" href="https://luowei.github.io/list/assets/css/normalize.css"> <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'> <link rel="stylesheet" href="https://luowei.github.io/list/assets/css/cayman.css"> </head> <body> <section class="page-header"> <h1 class="project-name">知不知</h1> <h2 class="project-tagline"><a style="color:#ffffff;" href="http://luowei.github.io/list">知不知</a> 是一个代码爱好者的技术知识分享部落格。</h2> <a href="http://wodedata.com" target="_blank" class="btn">wodedata</a> <a href="https://luowei.github.io/list" class="btn">home</a> <a href="http://app.wodedata.com" target="_blank" class="btn">APP作品</a> </section> <section class="main-content"> <!-- 标题 --> <h2>Swift笔记 - 08.可选链、协议、</h2> <!-- Google Ads --> <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <p><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-8760692904992206" data-ad-slot="2948937366"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></p> <h1 id="swift笔记---08可选链协议">Swift笔记 - 08.可选链、协议、</h1> <h2 id="可选链">可选链</h2> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">Car</span> <span class="p">{</span> <span class="k">var</span> <span class="nv">price</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">}</span>
<span class="kd">class</span> <span class="kt">Dog</span> <span class="p">{</span> <span class="k">var</span> <span class="nv">weight</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">}</span>
<span class="kd">class</span> <span class="kt">Person</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">var</span> <span class="nv">dog</span><span class="p">:</span> <span class="kt">Dog</span> <span class="o">=</span> <span class="kt">Dog</span><span class="p">()</span>
    <span class="k">var</span> <span class="nv">car</span><span class="p">:</span> <span class="kt">Car</span><span class="p">?</span> <span class="o">=</span> <span class="kt">Car</span><span class="p">()</span>
    <span class="kd">func</span> <span class="nf">age</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span> <span class="mi">18</span> <span class="p">}</span>
    <span class="kd">func</span> <span class="nf">eat</span><span class="p">()</span> <span class="p">{</span> <span class="nf">print</span> <span class="p">(</span><span class="s">"Person eat"</span><span class="p">)</span> <span class="p">}</span>
    <span class="nf">subscript</span> <span class="p">(</span><span class="nv">index</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span> <span class="n">index</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">var</span> <span class="nv">person</span><span class="p">:</span> <span class="kt">Person</span><span class="p">?</span> <span class="o">=</span> <span class="kt">Person</span><span class="p">()</span>
<span class="k">var</span> <span class="nv">agel</span> <span class="o">=</span> <span class="n">person</span><span class="o">!.</span><span class="nf">age</span><span class="p">()</span> <span class="c1">// Int</span>
<span class="k">var</span> <span class="nv">age2</span> <span class="o">=</span> <span class="n">person</span><span class="p">?</span><span class="o">.</span><span class="nf">age</span><span class="p">()</span> <span class="c1">// Int?</span>
<span class="k">var</span> <span class="nv">name</span> <span class="o">=</span> <span class="n">person</span><span class="p">?</span><span class="o">.</span><span class="n">name</span> <span class="c1">// String?</span>
<span class="k">var</span> <span class="nv">index</span> <span class="o">=</span> <span class="n">person</span><span class="p">?</span> <span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="c1">// Int?</span>

<span class="kd">func</span> <span class="nf">getName</span><span class="p">()</span><span class="o">-&gt;</span> <span class="kt">String</span><span class="p">{</span> <span class="s">"jack"</span> <span class="p">}</span>
<span class="c1">//如果person是nil，不会调用getName(）</span>
<span class="n">person</span><span class="p">?</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="nf">getName</span><span class="p">()</span>
</code></pre></div></div> <ul> <li>如果可选项为nil，调用方法、下标、属性失败，结果为nil</li> <li>如果可选项不为nil，调用方法、下标、属性成功，结果会被包装成可选项</li> <li>如果结果本来就是可选项，不会进行再次包装</li> </ul> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="k">let</span> <span class="nv">_</span> <span class="o">=</span> <span class="n">person</span><span class="p">?</span><span class="o">.</span><span class="nf">eat</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// ()?</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"eat调用成功"</span><span class="err">）</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"eat调用失败"</span><span class="err">）</span>
<span class="p">}</span>

<span class="k">var</span> <span class="nv">dog</span> <span class="o">=</span> <span class="n">person</span><span class="p">?</span><span class="o">.</span><span class="n">dog</span> <span class="c1">// Dog?</span>
<span class="k">var</span> <span class="nv">weight</span> <span class="o">=</span> <span class="n">person</span><span class="p">?</span><span class="o">.</span><span class="n">dog</span><span class="o">.</span><span class="n">weight</span> <span class="c1">// Int?</span>
<span class="k">var</span> <span class="nv">price</span> <span class="o">=</span> <span class="n">person</span><span class="p">?</span><span class="o">.</span><span class="n">car</span><span class="p">?</span><span class="o">.</span><span class="n">price</span> <span class="c1">// Int?</span>
</code></pre></div></div> <ul> <li>多个？可以链接在一起 <ul> <li>如果链中任何一个节点是nil，那么整个链就会调用失败</li> </ul> </li> </ul> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="nv">scores</span> <span class="o">=</span> <span class="p">[</span><span class="s">"Jack"</span><span class="p">:</span> <span class="p">[</span><span class="mi">86</span><span class="p">,</span> <span class="mi">82</span><span class="p">,</span> <span class="mi">84</span><span class="p">],</span> <span class="s">"Rose"</span><span class="p">:</span> <span class="p">[</span><span class="mi">79</span><span class="p">,</span> <span class="mi">94</span><span class="p">,</span> <span class="mi">81</span><span class="p">]]</span>
<span class="n">scores</span> <span class="p">[</span><span class="s">"Jack"</span><span class="p">]?[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">scores</span> <span class="p">[</span><span class="s">"Rose"</span><span class="p">]?</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">10</span>
<span class="n">scores</span> <span class="p">[</span><span class="s">"Kate"</span><span class="p">]?[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">88</span>

<span class="k">var</span> <span class="nv">num1</span><span class="p">:</span> <span class="kt">Int</span><span class="p">?</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">num1</span><span class="p">?</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1">// Optional(10)</span>
<span class="k">var</span> <span class="nv">num2</span><span class="p">:</span> <span class="kt">Int</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="n">num2</span><span class="p">?</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1">// nil</span>

<span class="k">var</span> <span class="nv">dict</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="p">(</span><span class="kt">Int</span><span class="p">,</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">" sum"</span> <span class="p">:</span> <span class="p">(</span><span class="o">+</span><span class="p">),</span>
    <span class="s">"differencell"</span> <span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="p">)</span>
<span class="p">]</span>
<span class="k">var</span> <span class="nv">result</span> <span class="o">=</span> <span class="n">dict</span><span class="p">[</span><span class="s">"sum"</span><span class="p">]?</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span> <span class="c1">// Optional (30), Int?</span>
</code></pre></div></div> <h2 id="协议protocol">协议(Protocol)</h2> <ul> <li>协议可以用来定义方法、属性、下标的声明，协议可以被枚举、结构体、类遵守（多个协议之间用逗号隔开）<br /> ```swift protocol Drawable { func draw() var x: Int { get set } var y: Int { get } subscript(index :Int)-&gt;Int { get set } }</li> </ul> <p>protocol Test1 { } protocol Test2 { } protocol Test3 { } class TestClass : Test1, Test2, Test3 { }</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
* 协议中定义方法时不能有默认参数值
* 默认情况下，协议中定义的内容必须全部都实现


## 协议中的属性  
* 协议中定义属性时必须用`var`关键字
* 实现协议时的属性权限要不小于协议中定义的属性权限
* 协议定义`get`、`set`，用`var`存储属性或`get`、`set`计算属性去实现
* 协议定义`get`，用任何属性都可以实现

```swift
protocol Drawable {
    func draw()
    var x: Int { get set }
    var y: Int { get }
    subscript (index: Int) -&gt; Int { get set }
}

class Person : Drawable {
    var x: Int = 0
    let y: Int = 0
    func draw() {
        print ("Person draw")
    }
    subscript(index: Int) -&gt; Int {
        set { }
        get { index }
    }
}

class Person : Drawable {
    var x: Int
    {
        get {0}
        set { }
    }
    var y: Int { 0 }
    func draw() { print ("Person draw") }
    subscript(index: Int) -&gt; Int {
        set { }
        get { index }
    }
}
</code></pre></div></div> <ul> <li>为了保证通用，协议中必须用static定义类型方法、类型属性、类型下标</li> </ul> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protocol</span> <span class="kt">Drawable</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">draw</span><span class="p">()</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="kt">Person</span><span class="p">:</span> <span class="kt">Drawable</span> <span class="p">{</span>
    <span class="kd">class</span> <span class="kd">func</span> <span class="nf">draw</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Person1 draw"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="kt">Person2</span><span class="p">:</span> <span class="kt">Drawable</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">draw</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Person2 draw"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <ul> <li>只有将协议中的实例方法标记为<code class="language-plaintext highlighter-rouge">mutating</code></li> <li>才允许结构体、枚举的具体实现修改自身内存</li> <li>类在实现方法时不用加<code class="language-plaintext highlighter-rouge">mutating</code>，枚举、结构体才需要加<code class="language-plaintext highlighter-rouge">mutating</code></li> </ul> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protocol</span> <span class="kt">Drawable</span> <span class="p">{</span>
    <span class="k">mutating</span> <span class="kd">func</span> <span class="nf">draw</span><span class="p">()</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="kt">Size</span><span class="p">:</span> <span class="kt">Drawable</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">width</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="kd">func</span> <span class="nf">draw</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">width</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">struct</span> <span class="kt">Point</span><span class="p">:</span> <span class="kt">Drawable</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">x</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="k">mutating</span> <span class="kd">func</span> <span class="nf">draw</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <ul> <li>协议中还可以定义初始化器<code class="language-plaintext highlighter-rouge">init</code></li> <li>非<code class="language-plaintext highlighter-rouge">final</code>类实现时必须加上<code class="language-plaintext highlighter-rouge">required</code></li> </ul> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protocol</span> <span class="kt">Drawable</span> <span class="p">{</span>
    <span class="nf">init</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="kt">Point</span> <span class="p">:</span> <span class="kt">Drawable</span> <span class="p">{</span>
    <span class="kd">required</span> <span class="nf">init</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>
<span class="kd">final</span> <span class="kd">class</span> <span class="kt">Size</span> <span class="p">:</span> <span class="kt">Drawable</span> <span class="p">{</span>
    <span class="nf">init</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div> <ul> <li>如果从协议实现的初始化器，刚好是重写了父类的指定初始化器</li> <li>那么这个初始化必须同时加<code class="language-plaintext highlighter-rouge">required.override</code></li> </ul> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protocol</span> <span class="kt">Livable</span> <span class="p">{</span>
    <span class="nf">init</span><span class="p">(</span><span class="nv">age</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="kt">Person</span> <span class="p">{</span>
    <span class="nf">init</span><span class="p">(</span><span class="nv">age</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="kt">Student</span> <span class="p">:</span> <span class="kt">Person</span><span class="p">,</span> <span class="kt">Livable</span> <span class="p">{</span>
    <span class="kd">required</span> <span class="k">override</span> <span class="nf">init</span><span class="p">(</span><span class="nv">age</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">age</span><span class="p">:</span> <span class="n">age</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <ul> <li>协议中定义的<code class="language-plaintext highlighter-rouge">init？</code>、<code class="language-plaintext highlighter-rouge">init!</code>，可以用<code class="language-plaintext highlighter-rouge">init</code>、<code class="language-plaintext highlighter-rouge">init?</code>、<code class="language-plaintext highlighter-rouge">init!</code>去实现</li> <li>协议中定义的<code class="language-plaintext highlighter-rouge">init</code>，可以用<code class="language-plaintext highlighter-rouge">init</code>、<code class="language-plaintext highlighter-rouge">init!</code>去实现</li> </ul> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protocol</span> <span class="kt">Livable</span> <span class="p">{</span>
    <span class="nf">init</span><span class="p">()</span>
    <span class="nf">init</span><span class="p">?(</span><span class="nv">age</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span>
    <span class="nf">init</span><span class="o">!</span><span class="p">(</span><span class="nv">no</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">Person</span> <span class="p">:</span> <span class="kt">Livable</span> <span class="p">{</span>
    <span class="kd">required</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
    <span class="c1">// required init! 0 { }</span>
    <span class="kd">required</span> <span class="nf">init</span><span class="p">?</span> <span class="p">(</span><span class="nv">age</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
    <span class="c1">// required init! (age: Int) {}</span>
    <span class="c1">// required init(age: Int) { }</span>
    <span class="kd">required</span> <span class="nf">init</span><span class="o">!</span> <span class="p">(</span><span class="nv">no</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
    <span class="c1">// required init?(no: Int) { }</span>
    <span class="c1">// required init(no: Int) { }</span>
<span class="p">}</span>
</code></pre></div></div> <h2 id="协议的继承与组合">协议的继承与组合</h2> <ul> <li>一个协议可以继承其他协议 <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protocol</span> <span class="kt">Runnable</span> <span class="p">{</span>
  <span class="kd">func</span> <span class="nf">run</span><span class="p">()</span>
<span class="p">}</span>
<span class="kd">protocol</span> <span class="kt">Livable</span> <span class="p">:</span> <span class="kt">Runnable</span> <span class="p">{</span>
  <span class="kd">func</span> <span class="nf">breath</span><span class="p">()</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="kt">Person</span><span class="p">:</span> <span class="kt">Livable</span> <span class="p">{</span>
  <span class="kd">func</span> <span class="nf">breath</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
  <span class="kd">func</span> <span class="nf">run</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div> </div> </li> <li>协议组合，可以包含1个类类型（最多1个）</li> </ul> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protocol</span> <span class="kt">Livable</span> <span class="p">{</span> <span class="p">}</span>
<span class="kd">protocol</span> <span class="kt">Runnable</span> <span class="p">{</span> <span class="p">}</span>
<span class="kd">class</span> <span class="kt">Person</span> <span class="p">{</span> <span class="p">}</span>

<span class="c1">//接收Person或者其子类的实例</span>
<span class="kd">func</span> <span class="nf">fn0</span><span class="p">(</span><span class="nv">obi</span><span class="p">:</span> <span class="kt">Person</span><span class="p">){}</span>
<span class="c1">//接收遵守Livable协议的实例</span>
<span class="kd">func</span> <span class="nf">fn1</span><span class="p">(</span><span class="nv">obj</span><span class="p">:</span> <span class="kt">Livable</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="c1">//接收同时遵守Livable、Runnable协议的实例</span>
<span class="kd">func</span> <span class="nf">fn2</span><span class="p">(</span><span class="nv">obi</span><span class="p">:</span> <span class="kt">Livable</span> <span class="o">&amp;</span> <span class="kt">Runnable</span><span class="p">){}</span>
<span class="c1">//接收同时遵守Livable、Runnable协议、并且是Person或者其子类的实例</span>
<span class="kd">func</span> <span class="nf">fn3</span><span class="p">(</span><span class="nv">obj</span><span class="p">:</span> <span class="kt">Person</span> <span class="o">&amp;</span> <span class="kt">Livable</span> <span class="o">&amp;</span> <span class="kt">Runnable</span><span class="p">)</span> <span class="p">{}</span>

<span class="kd">typealias</span> <span class="kt">RealPerson</span> <span class="o">=</span> <span class="kt">Person</span> <span class="o">&amp;</span> <span class="kt">Livable</span> <span class="o">&amp;</span> <span class="kt">Runnable</span>
<span class="c1">//接收同时遵守Livable、Runnable协议、并且是Person或者其子类的实例</span>
<span class="kd">func</span> <span class="nf">fn4</span><span class="p">(</span><span class="nv">obj</span><span class="p">:</span> <span class="kt">RealPerson</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
</code></pre></div></div> <h2 id="caseiterable协议">CaseIterable协议</h2> <ul> <li>让枚举遵守CaseIterable协议，可以实现遍历枚举值 <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">enum</span> <span class="kt">Season</span> <span class="p">:</span> <span class="kt">CaseIterable</span> <span class="p">{</span>
  <span class="k">case</span> <span class="n">spring</span><span class="p">,</span> <span class="n">summer</span><span class="p">,</span> <span class="n">autumn</span><span class="p">,</span> <span class="n">winter</span>
<span class="p">}</span>
<span class="k">let</span> <span class="nv">seasons</span> <span class="o">=</span> <span class="kt">Season</span><span class="o">.</span><span class="n">allCases</span>
<span class="nf">print</span><span class="p">(</span><span class="n">seasons</span><span class="o">.</span><span class="n">count</span><span class="p">)</span> <span class="c1">// 4</span>
<span class="k">for</span> <span class="n">season</span> <span class="k">in</span> <span class="n">seasons</span> <span class="p">{</span>
  <span class="nf">print</span> <span class="p">(</span><span class="n">season</span><span class="p">)</span>
<span class="p">}</span> <span class="c1">// spring summer autumn winter</span>
</code></pre></div> </div> </li> </ul> <h2 id="customstringconvertible协议">CustomStringConvertible协议</h2> <ul> <li>遵守Customstringconvertible协议，可以自定义实例的打印字符串 <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">Person</span><span class="p">:</span> <span class="kt">CustomStringConvertible</span> <span class="p">{</span>
  <span class="k">var</span> <span class="nv">age</span><span class="p">:</span> <span class="kt">Int</span>
  <span class="k">var</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span>

  <span class="nf">init</span><span class="p">(</span><span class="nv">age</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
      <span class="k">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
  <span class="p">}</span>

  <span class="k">var</span> <span class="nv">description</span><span class="p">:</span> <span class="kt">String</span> <span class="p">{</span>
      <span class="s">"age=</span><span class="se">\(</span><span class="n">age</span><span class="se">)</span><span class="s">, name=</span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s">"</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">var</span> <span class="nv">p</span> <span class="o">=</span> <span class="kt">Person</span><span class="p">(</span><span class="nv">age</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nv">name</span><span class="p">:</span> <span class="s">"Jack"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="c1">// age=10, name=Jack</span>
</code></pre></div> </div> </li> </ul> <p><span class="site-footer-credits">版权所有，转载请注明出处 <a href="https://luowei.github.io/list">luowei.github.io</a>.</span></p> <link rel="stylesheet" href="/list/assets/css/font-awesome.min.css?ver=20151122" /> <!--[if IE 7 ]><link rel="stylesheet" href="/list/assets/css/font-awesome-ie7.min.css?ver=20151122"><![endif]--> <div style="float: right"> <span id="share"> <a class="wechat" target="_blank" title="分享到微信" href="https://chart.apis.google.com/chart?cht=qr&amp;chs=300x300&amp;chl=https%3A%2F%2Fluowei.github.io%2Flist%2Fios%2F2021%2F12%2F22%2F16398570125664.html"><i class="icon-large icon-wechat"></i></a> <a class="weibo" target="_blank" title="分享到微博" href="http://service.weibo.com/share/share.php?title=Swift笔记 - 08.可选链、协议、 - 知不知&amp;url=https%3A%2F%2Fluowei.github.io%2Flist%2Fios%2F2021%2F12%2F22%2F16398570125664.html&amp;type=3&amp;searchPic=1"><i class="icon-large icon-weibo"></i></a> <a class="qzone" target="_blank" title="分享到 QQ 空间" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https%3A%2F%2Fluowei.github.io%2Flist%2Fios%2F2021%2F12%2F22%2F16398570125664.html&amp;title=Swift笔记 - 08.可选链、协议、 - 知不知&amp;summary=Swift笔记 - 08.可选链、协议、&amp;site=/list"><i class="icon-large icon-qzone"></i></a> <a class="twitter" target="_blank" title="Share to Twitter" href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fluowei.github.io%2Flist%2Fios%2F2021%2F12%2F22%2F16398570125664.html&amp;text=Swift笔记 - 08.可选链、协议、 - 知不知&amp;via=luowei010101"><i class="icon-large icon-twitter"></i></a> <a class="facebook" target="_blank" title="Share to Facebook" href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fluowei.github.io%2Flist%2Fios%2F2021%2F12%2F22%2F16398570125664.html&amp;t=Swift笔记 - 08.可选链、协议、 - 知不知"><i class="icon-large icon-facebook-sign"></i></a> <a class="googleplus" target="_blank" title="Share to Google+" href="https://plus.google.com/share?url=https%3A%2F%2Fluowei.github.io%2Flist%2Fios%2F2021%2F12%2F22%2F16398570125664.html"><i class="icon-large icon-google-plus-sign"></i></a> </span> </div> <hr /> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css" /> <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script> <div id="gitalk-container"></div> <script type="text/javascript"> var gitalk = new Gitalk({ clientID: '9d5ee666269c252cf949', clientSecret: '728cd598f1fca9d8c1df1dfa300057883a3a8676', repo: 'list', owner: 'luowei', admin: ['luowei'], id: decodeURI('Swift笔记 - 08.可选链、协议、'), distractionFreeMode: false }); gitalk.render('gitalk-container'); </script> <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1277627361'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s96.cnzz.com/z_stat.php%3Fid%3D1277627361%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));</script> <footer class="site-footer"> <span class="site-footer-owner"><a href="https://luowei.github.io/list">知不知</a> is maintained by <a href="http://luowei.github.io/list">luowei</a>.</span> <span class="site-footer-credits">Developed by <a href="https://luowei.github.io/list">luowei</a>.</span> </footer> </section> </body> </html>
