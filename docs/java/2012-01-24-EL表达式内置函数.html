<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <title>知不知</title> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="theme-color" content="#157878"> <meta name="baidu-site-verification" content="" /> <meta name="apple-itunes-app" content="app-id=1227288468, app-argument=https://luowei.github.io/list/docs/java/2012-01-24-EL%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0.html"> <link rel="stylesheet" href="https://luowei.github.io/list/assets/css/normalize.css"> <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'> <link rel="stylesheet" href="https://luowei.github.io/list/assets/css/cayman.css"> </head> <body> <section class="page-header"> <h1 class="project-name">知不知</h1> <h2 class="project-tagline"><a style="color:#ffffff;" href="http://luowei.github.io/list">知不知</a> 是一个代码爱好者的技术知识分享部落格。</h2> <a href="http://wodedata.com" target="_blank" class="btn">wodedata</a> <a href="https://luowei.github.io/list" class="btn">home</a> <a href="http://app.wodedata.com" target="_blank" class="btn">APP作品</a> </section> <section class="main-content"> <!-- 标题 --> <h2>Java-EL表达式内置函数</h2> <!-- Google Ads --> <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <p><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-8760692904992206" data-ad-slot="2948937366"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></p> <blockquote> <p>两个小例：<br /> 运用El表达式截取字符串<br /> ${fn:substring(wjcd.lrsj, 0, 16)}</p> <p>使用functions函数来获取list的长度<br /> ${fn:length(list)}</p> </blockquote> <h3 id="一内置函数">一、内置函数</h3> <blockquote> <p>两个小例： <br /> 运用El表达式截取字符串<br /> ${fn:substring(wjcd.lrsj, 0, 16)}</p> <p>使用functions函数来获取list的长度<br /> ${fn:length(list)}</p> </blockquote> <p><strong>1.引入functions标签库</strong></p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;</span><span class="err">%@</span> <span class="na">taglib</span> <span class="na">prefix=</span><span class="s">"fn"</span> <span class="na">uri=</span><span class="s">"http://java.sun.com/jsp/jstl/functions"</span> <span class="err">%</span><span class="nt">&gt;</span>
</code></pre></div></div> <p><strong>2.使用举例</strong></p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>函数名 函数说明 使用举例
fn:contains 判断字符串是否包含另外一个字符串 &lt;c:if test="${fn:contains(name, searchString)}"&gt;;
fn:containsIgnoreCase 判断字符串是否包含另外一个字符串(大小写无关) &lt;c:if test="${fn:containsIgnoreCase(name, searchString)}"&gt;;
fn:endsWith 判断字符串是否以另外字符串结束 &lt;c:if test="${fn:endsWith(filename, ".txt")}"&gt;;
fn:escapeXml 把一些字符转成XML表示，例如 &lt;字符应该转为&amp;lt; ${fn:escapeXml(param:info)};
fn:indexOf 子字符串在母字符串中出现的位置 ${fn:indexOf(name, "-")};
fn:join 将数组中的数据联合成一个新字符串，并使用指定字符格开 ${fn:join(array, ";")};
fn:length 获取字符串的长度，或者数组的大小 ${fn:length(shoppingCart.products)};
fn:replace 替换字符串中指定的字符 ${fn:replace(text, "-", "&amp;#149;")};
fn:split 把字符串按照指定字符切分 ${fn:split(customerNames, ";")};
fn:startsWith 判断字符串是否以某个子串开始 &lt;c:if test="${fn:startsWith(product.id, "100-")}"&gt;;
fn:substring 获取子串 ${fn:substring(zip, 6, -1)};
fn:substringAfter 获取从某个字符所在位置开始的子串 ${fn:substringAfter(zip, "-")};
fn:substringBefore 获取从开始到某个字符所在位置的子串 ${fn:substringBefore(zip, "-")};
fn:toLowerCase 转为小写 ${fn.toLowerCase(product.name)};
fn:toUpperCase 转为大写字符 ${fn.UpperCase(product.name)};
fn:trim 去除字符串前后的空格 ${fn.trim(name)};
</code></pre></div></div> <p><strong>3.函数描述</strong></p> <blockquote> <p>fn:contains(string, substring) 如果参数string中包含参数substring，返回true;<br /> fn:containsIgnoreCase(string, substring) 如果参数string中包含参数substring（忽略大小写），返回true;<br /> fn:endsWith(string, suffix) 如果参数 string 以参数suffix结尾，返回true;<br /> fn:escapeXml(string) 将有特殊意义的XML (和HTML)转换为对应的XML character entity code，并返回;<br /> fn:indexOf(string, substring) 返回参数substring在参数string中第一次出现的位置;<br /> fn:join(array, separator) 将一个给定的数组array用给定的间隔符separator串在一起，组成一个新的字符串并返回。<br /> fn:length(item) 返回参数item中包含元素的数量。参数Item类型是数组、collection或者String。如果是String类型,返回值是String中的字符数。<br /> fn:replace(string, before, after) 返回一个String对象。用参数after字符串替换参数string中所有出现参数before字符串的地方，并返回替换后的结果;<br /> fn:split(string, separator) 返回一个数组，以参数separator 为分割符分割参数string，分割后的每一部分就是数组的一个元素;<br /> fn:startsWith(string, prefix) 如果参数string以参数prefix开头，返回true;<br /> fn:substring(string, begin, end) 返回参数string部分字符串, 从参数begin开始到参数end位置，包括end位置的字符;<br /> fn:substringAfter(string, substring) 返回参数substring在参数string中后面的那一部分字符串;<br /> fn:substringBefore(string, substring) 返回参数substring在参数string中前面的那一部分字符串;<br /> fn:toLowerCase(string) 将参数string所有的字符变为小写，并将其返回;<br /> fn:toUpperCase(string) 将参数string所有的字符变为大写，并将其返回;<br /> fn:trim(string) 去除参数string 首尾的空格，并将其返回;</p> </blockquote> <h3 id="二jsp-el简介">二、JSP EL简介</h3> <p><strong>1、语法结构 <code class="highlighter-rouge">${expression}</code></strong></p> <p><strong>2、[ ]与.运算符 EL 提供“.“和“[ ]“两种运算符来存取数据</strong></p> <blockquote> <p>当要存取的属性名称中包含一些特殊字符，如.或?等并非字母或数字的符号，就一定要使用“[ ]“。 <br /> 例如： ${user.My-Name}应当改为${user[“My-Name”] } 如果要动态取值时，就可以用“[ ]“来做，而“.“无法做到动态取值。 <br /> 例如： ${sessionScope.user[data]}中data 是一个变量;</p> </blockquote> <p><strong>3、变量 EL存取变量数据的方法很简单</strong></p> <blockquote> <p>例如：${username}。它的意思是取出某一范围中名称为username的变量。 <br /> 因为我们并没有指定哪一个范围的username，所以它会依序从Page、Request、Session、Application范围查找。 <br /> 假如途中找到username，就直接回传，不再继续找下去，但是假如全部的范围都没有找到时，就回传null。 属性范围在EL中的名称 Page PageScope Request RequestScope Session SessionScope Application ApplicationScope.</p> </blockquote> <h3 id="三jsp-el-中的有效表达式">三、JSP EL 中的有效表达式</h3> <p>有效表达式可以包含文字、操作符、变量（对象引用）和函数调用。我们将分别了解这些有效表达式中的每一种：</p> <p><strong>1、文字</strong></p> <blockquote> <p>JSP 表达式语言定义可在表达式中使用的以下文字：</p> <p>文字 文字的值;<br /> Boolean true 和 false;<br /> Integer 与 Java 类似。可以包含任何正数或负数，例如 24、-45、567; <br /> Floating Point 与 Java 类似。可以包含任何正的或负的浮点数，例如 -1.8E-45、4.567; <br /> String 任何由单引号或双引号限定的字符串。对于单引号、双引号和反斜杠，使用反斜杠字符作为转义序列。必须注意，如果在字符串两端使用双引号，则单引号不需要转义。<br /> Null null;</p> </blockquote> <p><strong>2、操作符</strong></p> <blockquote> <p>JSP 表达式语言提供以下操作符，其中大部分是 Java 中常用的操作符：</p> <p>算术型 +、-（二元）、*、/、div、%、mod、-（一元）;<br /> 逻辑型 and、&amp;&amp;、or、||、!、not;<br /> 关系型 ==、eq、!=、ne、、gt、&lt;=、le、&gt;=、ge。可以与其他值进行比较，或与布尔型、字符串型、整型或浮点型文字进行比较。<br /> 空 空操作符是前缀操作，可用于确定值是否为空。<br /> 条件型 A ?B :C。根据 A 赋值的结果来赋值 B 或 C。</p> </blockquote> <p><strong>3、隐式对象</strong></p> <blockquote> <p>JSP 表达式语言定义了一组隐式对象，其中许多对象在 JSP scriplet 和表达式中可用：</p> <p>pageContext;<br /> JSP 页的上下文。它可以用于访问 JSP 隐式对象，如请求、响应、会话、输出、servletContext 等。例如，${pageContext.response} 为页面的响应对象赋值。</p> <p>param;<br /> 将请求参数名称映射到单个字符串参数值（通过调用 ServletRequest.getParameter (String name) 获得）。getParameter (String) 方法返回带有特定名称的参数。表达式 $(param.name) 相当于 request.getParameter (name)。</p> <p>paramValues;<br /> 将请求参数名称映射到一个数值数组（通过调用 ServletRequest.getParameter (String name) 获得）。它与 param 隐式对象非常类似，但它检索一个字符串数组而不是单个值。表达式 ${paramvalues.name) 相当于 request.getParamterValues(name)。</p> <p>header;<br /> 将请求头名称映射到单个字符串头值（通过调用 ServletRequest.getHeader(String name) 获得）。表达式 ${header.name} 相当于 request.getHeader(name)。</p> <p>headerValues;<br /> 将请求头名称映射到一个数值数组（通过调用 ServletRequest.getHeaders(String) 获得）。它与头隐式对象非常类似。表达式 ${headerValues.name} 相当于 request.getHeaderValues(name)。</p> <p>cookie; <br /> 将 cookie 名称映射到单个 cookie 对象。向服务器发出的客户端请求可以获得一个或多个 cookie。表达式 ${cookie.name.value} 返回带有特定名称的第一个 cookie 值。如果请求包含多个同名的 cookie，则应该使用 ${headerValues.name} 表达式。</p> <p>initParam;<br /> 将上下文初始化参数名称映射到单个值（通过调用 ServletContext.getInitparameter(String name) 获得）。</p> <p>pageScope;<br /> 将页面范围的变量名称映射到其值。例如，EL 表达式可以使用 ${pageScope.objectName} 访问一个 JSP 中页面范围的对象，还可以使用 ${pageScope.objectName.attributeName} 访问对象的属性。</p> <p>requestScope;<br /> 将请求范围的变量名称映射到其值。该对象允许访问请求对象的属性。例如，EL 表达式可以使用 ${requestScope.objectName} 访问一个 JSP 请求范围的对象，还可以使用 ${requestScope.objectName.attributeName} 访问对象的属性。</p> <p>sessionScope;<br /> 将会话范围的变量名称映射到其值。该对象允许访问会话对象的属性。例如：$sessionScope.name};</p> <p>applicationScope;<br /> 将应用程序范围的变量名称映射到其值。该隐式对象允许访问应用程序范围的对象。</p> </blockquote> <p><strong>4.注意事项</strong></p> <blockquote> <p>1、注意当表达式根据名称引用这些对象之一时，返回的是相应的对象而不是相应的属性。例如：即使现有的 pageContext 属性包含某些其他值，${pageContext} 也返回 PageContext 对象。</p> <p>2、 注意 &lt;%@ page isELIgnored=”true” %&gt; 表示是否禁用EL语言,TRUE表示禁止.FALSE表示不禁止.JSP2.0中默认的启用EL语言。</p> </blockquote> <p><span class="site-footer-credits">版权所有，转载请注明出处 <a href="https://luowei.github.io/list">luowei.github.io</a>.</span></p> <link rel="stylesheet" href="/list/assets/css/font-awesome.min.css?ver=20151122" /> <!--[if IE 7 ]><link rel="stylesheet" href="/list/assets/css/font-awesome-ie7.min.css?ver=20151122"><![endif]--> <div style="float: right"> <span id="share"> <a class="wechat" target="_blank" title="分享到微信" href="https://chart.apis.google.com/chart?cht=qr&amp;chs=300x300&amp;chl=https%3A%2F%2Fluowei.github.io%2Flist%2Fdocs%2Fjava%2F2012-01-24-EL%25E8%25A1%25A8%25E8%25BE%25BE%25E5%25BC%258F%25E5%2586%2585%25E7%25BD%25AE%25E5%2587%25BD%25E6%2595%25B0.html"><i class="icon-large icon-wechat"></i></a> <a class="weibo" target="_blank" title="分享到微博" href="http://service.weibo.com/share/share.php?title=Java-EL表达式内置函数 - 知不知&amp;url=https%3A%2F%2Fluowei.github.io%2Flist%2Fdocs%2Fjava%2F2012-01-24-EL%25E8%25A1%25A8%25E8%25BE%25BE%25E5%25BC%258F%25E5%2586%2585%25E7%25BD%25AE%25E5%2587%25BD%25E6%2595%25B0.html&amp;type=3&amp;searchPic=1"><i class="icon-large icon-weibo"></i></a> <a class="qzone" target="_blank" title="分享到 QQ 空间" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https%3A%2F%2Fluowei.github.io%2Flist%2Fdocs%2Fjava%2F2012-01-24-EL%25E8%25A1%25A8%25E8%25BE%25BE%25E5%25BC%258F%25E5%2586%2585%25E7%25BD%25AE%25E5%2587%25BD%25E6%2595%25B0.html&amp;title=Java-EL表达式内置函数 - 知不知&amp;summary=EL表达式内置函数&amp;site=/list"><i class="icon-large icon-qzone"></i></a> <a class="twitter" target="_blank" title="Share to Twitter" href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fluowei.github.io%2Flist%2Fdocs%2Fjava%2F2012-01-24-EL%25E8%25A1%25A8%25E8%25BE%25BE%25E5%25BC%258F%25E5%2586%2585%25E7%25BD%25AE%25E5%2587%25BD%25E6%2595%25B0.html&amp;text=Java-EL表达式内置函数 - 知不知&amp;via=luowei010101"><i class="icon-large icon-twitter"></i></a> <a class="facebook" target="_blank" title="Share to Facebook" href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fluowei.github.io%2Flist%2Fdocs%2Fjava%2F2012-01-24-EL%25E8%25A1%25A8%25E8%25BE%25BE%25E5%25BC%258F%25E5%2586%2585%25E7%25BD%25AE%25E5%2587%25BD%25E6%2595%25B0.html&amp;t=Java-EL表达式内置函数 - 知不知"><i class="icon-large icon-facebook-sign"></i></a> <a class="googleplus" target="_blank" title="Share to Google+" href="https://plus.google.com/share?url=https%3A%2F%2Fluowei.github.io%2Flist%2Fdocs%2Fjava%2F2012-01-24-EL%25E8%25A1%25A8%25E8%25BE%25BE%25E5%25BC%258F%25E5%2586%2585%25E7%25BD%25AE%25E5%2587%25BD%25E6%2595%25B0.html"><i class="icon-large icon-google-plus-sign"></i></a> </span> </div> <hr /> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css" /> <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script> <div id="gitalk-container"></div> <script type="text/javascript"> var gitalk = new Gitalk({ clientID: '9d5ee666269c252cf949', clientSecret: '728cd598f1fca9d8c1df1dfa300057883a3a8676', repo: 'list', owner: 'luowei', admin: ['luowei'], id: decodeURI('Java-EL表达式内置函数'), distractionFreeMode: false }); gitalk.render('gitalk-container'); </script> <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1277627361'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s96.cnzz.com/z_stat.php%3Fid%3D1277627361%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));</script> <footer class="site-footer"> <span class="site-footer-owner"><a href="https://luowei.github.io/list">知不知</a> is maintained by <a href="http://luowei.github.io/list">luowei</a>.</span> <span class="site-footer-credits">Developed by <a href="https://luowei.github.io/list">luowei</a>.</span> </footer> </section> </body> </html>
